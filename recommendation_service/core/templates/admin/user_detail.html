{% extends 'base.html' %}

{% block content %}
<main>
    <section class="user-card">
        <h2>User Details</h2>
        <div class="user-info">
            <p><strong>Username:</strong> {{ user.username }}</p>
            <p><strong>Email:</strong> {{ user.email }}</p>
            <p><strong>Active:</strong> {{ user.is_active }}</p>
            {% if user.id == request.user.id %}
            <p><strong>Token:</strong> {{ user.token }}</p>
            {% endif %}
        </div>

        <div class="actions">
            {% if user.id == request.user.id %}
            <form method="post" class="delete-form">
                {% csrf_token %}
                <button type="submit" name="create_token" class="create-token-btn">
                    {% if user.token is None %}Create token{% else %}Update token{% endif %}
                </button>
                <button type="submit" name="delete" class="delete-btn">Delete user</button>
            </form>
            {% endif %}
        </div>
    </section>
</main>
{% endblock %}